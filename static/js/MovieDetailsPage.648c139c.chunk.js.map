{"version":3,"file":"static/js/MovieDetailsPage.648c139c.chunk.js","mappings":"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","sources":["Services/fetchMethods.js","webpack://react-homework-template/./src/pages/MovieDetailsPage/MovieDetailsPage.module.css?9108","pages/MovieDetailsPage/MovieDetailsPage.jsx"],"sourcesContent":["export const fetchTrending = async () => {\n  const apiKey = '22957cc42cbc2dcfc04c7fad2963e2db';\n\n  const response = await fetch(\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=${apiKey}`,\n  );\n\n  const data = await response.json();\n  if (data.ok) {\n    return Promise.reject(new Error(`Ooops something went wrong`));\n  } else {\n    return data.results;\n  }\n};\n\nexport const fetchBySearch = async query => {\n  const apiKey = '22957cc42cbc2dcfc04c7fad2963e2db';\n\n  const response = await fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&language=en-US&query=${query}&page=1&include_adult=true`,\n  );\n\n  const data = await response.json();\n  if (data.ok) {\n    return Promise.reject(new Error(`Ooops something went wrong`));\n  } else {\n    return data.results;\n  }\n};\n\nexport const fetchMovieDetails = async movieId => {\n  const apiKey = '22957cc42cbc2dcfc04c7fad2963e2db';\n\n  const response = await fetch(`\nhttps://api.themoviedb.org/3/movie/${movieId}?api_key=${apiKey}&language=en-US`);\n\n  const data = await response.json();\n\n  if (data.ok) {\n    return Promise.reject(new Error(`Ooops something went wrong`));\n  } else {\n    return data;\n  }\n};\n\nexport const fetchCredits = async movieId => {\n  const apiKey = '22957cc42cbc2dcfc04c7fad2963e2db';\n\n  const response = await fetch(`\nhttps://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${apiKey}&language=en-US`);\n\n  const data = await response.json();\n\n  if (data.ok) {\n    return Promise.reject(new Error(`Ooops something went wrong`));\n  } else {\n    return data.cast;\n  }\n};\n\nexport const fetchReviews = async movieId => {\n  const apiKey = '22957cc42cbc2dcfc04c7fad2963e2db';\n\n  const response = await fetch(`\nhttps://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${apiKey}&language=en-US&page=1`);\n\n  const data = await response.json();\n\n  if (data.ok) {\n    return Promise.reject(new Error(`Ooops something went wrong`));\n  } else {\n    return data.results;\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"MovieDetailsPage_item__SzAxR\",\"card\":\"MovieDetailsPage_card__Th+02\",\"textCard\":\"MovieDetailsPage_textCard__Hfvdc\"};","import styles from './MovieDetailsPage.module.css';\nimport { useState, useEffect } from 'react';\nimport {\n  useParams,\n  NavLink,\n  Outlet,\n  useNavigate,\n  useLocation,\n} from 'react-router-dom';\nimport { fetchMovieDetails } from '../../Services/fetchMethods';\n\nfunction MovieDetailsPage() {\n  const BASE_URL = 'https://image.tmdb.org/t/p/w500/';\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState('');\n  const navigate = useNavigate();\n  const { state } = useLocation();\n  const [from, setFrom] = useState(null);\n\n  useEffect(() => {\n    if (state?.from) {\n      const { pathname, search } = state.from;\n      setFrom(`${pathname}${search}`);\n    }\n  }, [state?.from, from]);\n\n  const onGoBack = () => {\n    navigate(from);\n  };\n\n  useEffect(() => {\n    fetchMovieDetails(movieId).then(movieInfo => {\n      setMovie(movieInfo);\n    });\n  }, [movieId]);\n\n  const getYear = date => {\n    //Парсимо дату\n    const yearLine = date.split('-');\n    return yearLine[0];\n  };\n\n  return (\n    <>\n      {movie && (\n        <>\n          <button type=\"button\" onClick={onGoBack}>\n            {' '}\n            Go back\n          </button>\n          <div className={styles.card}>\n            <img\n              src={`${BASE_URL}${movie.poster_path}`}\n              alt={movie.title}\n              width=\"250\"\n            />\n            <div className={styles.textCard}>\n              <h1>\n                {movie.title} ({getYear(movie.release_date)})\n              </h1>\n              <p>AVARAGE VOTE: {movie.vote_average}</p>\n              <p>OVERVIEW: {movie.overview}</p>\n            </div>\n          </div>\n        </>\n      )}\n      <h3>Additional information</h3>\n      <NavLink className={styles.item} to=\"cast\">\n        Cast\n      </NavLink>\n      <NavLink className={styles.item} to=\"reviews\">\n        Reviews\n      </NavLink>\n      <Outlet />\n    </>\n  );\n}\n\nexport default MovieDetailsPage;\n"],"names":["fetchTrending","fetch","response","json","data","ok","Promise","reject","Error","results","fetchBySearch","query","fetchMovieDetails","movieId","fetchCredits","cast","fetchReviews","date","useParams","useState","movie","setMovie","navigate","useNavigate","state","useLocation","from","setFrom","useEffect","pathname","search","then","movieInfo","type","onClick","className","styles","src","poster_path","alt","title","width","release_date","split","vote_average","overview","to"],"sourceRoot":""}